module.exports = (function(t) { var e = {}; function r(n) { if (e[n]) return e[n].exports; var o = e[n] = { i: n, l: !1, exports: {}}; return t[n].call(o.exports, o, o.exports, r), o.l = !0, o.exports } return r.m = t, r.c = e, r.d = function(t, e, n) { r.o(t, e) || Object.defineProperty(t, e, { enumerable: !0, get: n }) }, r.r = function(t) { typeof Symbol !== 'undefined' && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, { value: 'Module' }), Object.defineProperty(t, '__esModule', { value: !0 }) }, r.t = function(t, e) { if (1 & e && (t = r(t)), 8 & e) return t; if (4 & e && typeof t === 'object' && t && t.__esModule) return t; var n = Object.create(null); if (r.r(n), Object.defineProperty(n, 'default', { enumerable: !0, value: t }), 2 & e && typeof t !== 'string') for (var o in t)r.d(n, o, function(e) { return t[e] }.bind(null, o)); return n }, r.n = function(t) { var e = t && t.__esModule ? function() { return t.default } : function() { return t }; return r.d(e, 'a', e), e }, r.o = function(t, e) { return Object.prototype.hasOwnProperty.call(t, e) }, r.p = '', r(r.s = 0) }([function(t, e) { function r(t, e) { this.addrmin = 20, this.addrmax = 40, this.validate = e, this.button = [0, 1, 2, 3], this.options = t }r.prototype.find = function() { this.validate; var t = this.options.devicename; var e = JSON.parse(this.options.defaulttest); var r = JSON.parse(this.options.defaultbutton); return { cmd: '00A58000EF00000014', resolve: function(n, o, s) { if (n.length < 18) return s(400); if (n.substr(8, 2) != 'EF') return s(402); var i = n.substr(6, 2); return o({ address: i, name: t + i, test: e, button: r }) }, changeAddr: !0 } }, r.prototype.changeAddr = function(t) { for (typeof t.address === 'number' && (t.address = t.address.toString(16)); t.address.length < 2;)t.address = '0' + t.address; var e = (293 + parseInt(t.address, 16) + 238).toString(16); var r = e.substr(e.length - 2, e.length); var n = '00A580' + t.address + 'EE000000' + r; var o = (this.validate, this.options.devicename); var s = JSON.parse(this.options.defaulttest); var i = JSON.parse(this.options.defaultbutton); return { cmd: n, resolve: function(e, r, n) { return e.length < 18 ? n(400) : e.substr(8, 2) != 'EE' ? n(402) : r({ address: t.address, name: o + t.address, test: s, button: i }) } } }, r.prototype.readAll = function(t) {}, r.prototype.readOne = function(t, e) {}, r.prototype.read = function(t, e) {}, r.prototype.write = function(t, e) {}, r.prototype.writeOne = function(t, e, r) { for (t = t.toString(16); t.length < 2;)t = '0' + t; var n; var o; var s = '12'; var i = '12'; for ((e = parseInt(e)) == 0 ? (n = 1, o = 2) : e == 1 && (n = 4, o = 8), r == 1 ? s = '11' : r == 2 && (i = '11'), n = n.toString(16); n.length < 2;)n = '0' + n; for (o = o.toString(16); o.length < 2;)o = '0' + o; var u = (293 + parseInt(t, 16) + parseInt(s, 16) + parseInt(n, 16)).toString(16); var a = u.substr(u.length - 2, u.length); var d = '00A580' + t + s + '00' + n + '00' + a; var p = (293 + parseInt(t, 16) + parseInt(i, 16) + parseInt(o, 16)).toString(16); var f = p.substr(p.length - 2, p.length); var l = '00A580' + t + i + '00' + o + '00' + f; return { cmd: s == '11' ? l + ',' + d : d + ',' + l, resolve: function(e, n, o) { if (e.length < 37) return o(400); var u = e.split(',')[0]; var a = e.split(',')[1]; if (u.substr(6, 2).toUpperCase() != t.toUpperCase()) return o(403); if (a.substr(6, 2).toUpperCase() != t.toUpperCase()) return o(403); var d = u.substr(8, 2); var p = a.substr(8, 2); if (s == '11') { if (d == i && p == s) return n(r) } else if (d == s && p == i) return n(r); return o(404) } } }, t.exports = r }]))
