this["LORA-KT"]=function(e){var r={};function t(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var a in e)t.d(n,a,function(r){return e[r]}.bind(null,a));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=0)}([function(e,r,t){"use strict";function n(e,r){var t=this;this.options=e,this.he=r.he,this.numToHexStr=r.numToHexStr,e.defaultCheck.forEach(function(e){t["analysis"+e.address]=e.analysis})}n.prototype.config=function(e,r,t,n,a){var o=n.factor,s=n.bandwidth,i=n.codingrate,u="aa00000d"+e+o+s+r+parseInt(n.frequency,16).toString(16)+i+t;return{cmd:u="aa0000"+this.he(u)+"ff22"}},n.prototype.read=function(e,r,t){t=r+""+t;var n="aa"+e.loraAddr+"06";n=this.he(n);var a=this;return{cmd:n="aa"+e.netAddr+n+"ff22",resolve:function(r,t,n){if(r.length<30)return n(400);var o=r.indexOf("aa"+e.netAddr.toLowerCase()),s=r.indexOf("ff22");if(o<0||s<0)return n(401);if((r=r.substring(o+6,s)).indexOf("aa"+e.loraAddr.toLowerCase())<0)return n(402);if("86"!==r.substring(6,8))return n(403);var i=r.substring(0,r.length-2);if(r!==a.he(i))return n(404);var u=parseInt(r.substring(8,10),16)+parseInt(r.substring(10,12),16)/100,f=parseInt(r.substring(12,14),16)+parseInt(r.substring(14,16),16)/100,d=r.substr(16,2);d=parseInt(d,16),console.log({3:u,4:f,5:d}),t({3:u,4:f,5:d})}}},n.prototype.write=function(e,r,t,n){t=r+""+t;var a="aa"+e.loraAddr+"13"+t+"0001";return a=this.he(a),{cmd:a="aa"+e.netAddr+a+"ff22",resolve:function(r,t,n){if(r.length<22)return n(400);var a=r.indexOf("aa"+e.netAddr.toLowerCase()),o=r.indexOf("ff22");return a<0||o<0?n(401):"93"!==r.substring(12,14)?n(402):t(parseInt(r.substring(15,16)))}}},n.prototype.configure=function(e,r){var t=[],n=this.he;function a(r,t,a){if(r.length>100){for(var o=1,s=parseInt(r.length/100)+1;r.length>100;){var i=r.substr(0,100);r=r.substr(100);var u="aa"+e.shortAddress.toLowerCase()+"16"+t+o+s+i+"0001";u=n(u),u="aa"+e.netAddr+u+"ff22",a.push(u),o+=1}if(r.length>0){var f="aa"+e.shortAddress.toLowerCase()+"16"+t+s+s+r+"0001";f=n(f),f="aa"+e.netAddr+f+"ff22",a.push(f)}}else{var d="aa"+e.shortAddress.toLowerCase()+"16"+t+"11"+r+"0001";d=n(d),d="aa"+e.netAddr+d+"ff22",a.push(d)}return a}return r.forEach(function(e){"10"===e.key?t=a(e.value.replace(/ *[\s] */gm,""),"10",t):"11"===e.key?t=a(e.value.replace(/ *[\s] */gm,""),"11",t):"20"===e.key?t=a(e.value.replace(/ *[\s] */gm,""),"20",t):"21"===e.key&&(t=a(e.value.replace(/ *[\s] */gm,""),"21",t))}),{cmd:t.join(","),try:5,resolve:function(r,t,n){for(var a=r.split(","),o=0;o<a.length;o++){var s=a[o];if(""!==s){var i=s.indexOf("aa"+e.netAddr.toLowerCase()),u=s.indexOf("ff22");if(i<0||u<0)return n(402);if((s=s.substring(i+6,u)).indexOf("aa"+e.shortAddress.toLowerCase()+"96")<0)return n(403)}else n(401)}t({})}}},n.prototype.decode=function(e,r){if(void 0===r.netAddr||void 0===r.loraAddr)return"";var t=e.indexOf("aa"+r.netAddr.toLowerCase()),n=e.indexOf("ff22");return t<0||n<0?"":(e=e.substring(t+6,n)).indexOf("aa"+r.loraAddr.toLowerCase())<0?"":{}},e.exports=n}]);