this["couns-pro"]=function(t){var r={};function s(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}return s.m=t,s.c=r,s.d=function(t,r,e){s.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:e})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,r){if(1&r&&(t=s(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(s.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var n in t)s.d(e,n,function(r){return t[r]}.bind(null,n));return e},s.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(r,"a",r),r},s.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},s.p="",s(s.s=0)}([function(t,r,s){"use strict";function e(t,r){this.addrmin=1,this.addrmax=20,this.validate=r,this.button=[0,1,2,3],this.options=t;var s=this;s.checksAddress=[],t.defaultCheck.forEach(function(t){s["analysis"+t.address]=t.analysis,s.checksAddress.push(t.address)})}function n(t){return t}e.prototype.find=function(t,r){t&&"string"==typeof t&&(t=parseInt(t)),r&&"string"==typeof r&&(r=parseInt(r));for(var s=t||this.addrmin,e=r||this.addrmax,o="";s<=e;){for(var a=s.toString(16);a.length<2;)a="0"+a;var i=(210^parseInt(a,16)).toString(16),p=(0-(166+parseInt(a,16)+118+parseInt(i,16))+1e15).toString(16);o+="A105"+a+"7600"+i+p.substr(p.length-2,2)+",",s++}var u=this.options.name,d=this.options.defaultCheck,l=this.options.defaultOperate,I=[];return void 0!==this.options.attribute&&(I=this.options.attribute),{cmd:o.substr(0,o.length-1),resolve:function(t,r,s){if((t=n(t)).length<44)return s(400);if("a814"!==t.substr(0,4))return s(402);var e=t.substr(8,16),o=t.substr(4,2);return r({shortAddress:e,name:u+o,checks:d,operates:l,attribute:I})},changeAddr:!0}},e.prototype.changeAddr=function(t){for("number"==typeof t.shortAddress&&(t.shortAddress=t.shortAddress.toString(16));t.shortAddress.length<2;)t.shortAddress="0"+t.shortAddress;var r=t.oldAddr.substr(0,2),s=t.oldAddr.substr(2,2),e=t.oldAddr.substr(4,2),o=t.oldAddr.substr(6,2),a=t.oldAddr.substr(8,2),i=t.oldAddr.substr(10,2),p=t.oldAddr.substr(12,2),u=t.oldAddr.substr(14,2),d=(170^parseInt(r,16)^parseInt(s,16)^parseInt(e,16)^parseInt(o,16)^parseInt(a,16)^parseInt(i,16)^parseInt(p,16)^parseInt(u,16)^parseInt(t.shortAddress,16)).toString(16),l=(0-(180+parseInt(r,16)+parseInt(s,16)+parseInt(e,16)+parseInt(o,16)+parseInt(a,16)+parseInt(i,16)+parseInt(p,16)+parseInt(u,16)+parseInt(t.shortAddress,16)+parseInt(d,16))+1e15).toString(16),I=l.substr(l.length-2,2),f="A10D0006"+t.oldAddr+t.shortAddress+d+I,b=(175^parseInt(t.shortAddress,16)).toString(16),h=(0-(165+parseInt(t.shortAddress,16)+10+parseInt(b,16))+1e15).toString(16),g=h.substr(h.length-2,2),c="A104"+t.shortAddress+"0A"+b+g,A=this.options.name,S=this.options.defaultCheck,v=this.options.defaultOperate,y=[];return void 0!==this.options.attribute&&(y=this.options.attribute),{cmd:f+","+c,resolve:function(r,s,e){return(r=n(r.split(",")[1])).length<12?e(400):"a804"!==r.substr(0,4)?e(402):r.substr(4,2).toLowerCase()!==t.shortAddress.toLowerCase()?e(403):s({shortAddress:t.shortAddress,name:A+t.shortAddress,checks:S,operates:v,attribute:y})}}},e.prototype.read=function(t,r){},e.prototype.write=function(t,r,s){for(t=t.toString(16);t.length<2;)t="0"+t;var e;0===s&&(s="4,null");var o,a=null;if(s.toString().indexOf(",")>-1?(e=parseInt(s.split(",")[0]),a=s.split(",")[1]):e=s,4===e){var i=(209^parseInt(t,16)).toString(16),p=(0-(165+parseInt(t,16)+116+parseInt(i,16))+1e15).toString(16),u=p.substr(p.length-2,2);o="A104"+t+"74"+i+u}else if(5===e&&null!==a){var d=a;for("number"==typeof d&&(d=d.toString(16));d.length<6;)d="0"+d;var l=(parseInt(d.substr(0,1),16)+48).toString(16),I=(parseInt(d.substr(1,1),16)+48).toString(16),f=(parseInt(d.substr(2,1),16)+48).toString(16),b=(parseInt(d.substr(3,1),16)+48).toString(16),h=(parseInt(d.substr(4,1),16)+48).toString(16),g=(parseInt(d.substr(5,1),16)+48).toString(16),c=(241^parseInt(t,16)^parseInt(l,16)^parseInt(I,16)^parseInt(f,16)^parseInt(b,16)^parseInt(h,16)^parseInt(g,16)).toString(16),A=(0-(171+parseInt(t,16)+90+parseInt(l,16)+parseInt(I,16)+parseInt(f,16)+parseInt(b,16)+parseInt(h,16)+parseInt(g,16)+parseInt(c,16))+1e15).toString(16),S=A.substr(A.length-2,2);o="A10A"+t+"5A"+l+I+f+b+h+g+c+S}else if(6===e&&null!==a){var v=a;for("number"==typeof v&&(v=v.toString());v.length<6;)v="0"+v;var y=(parseInt(v.substr(0,1),16)+48).toString(16),m=(parseInt(v.substr(1,1),16)+48).toString(16),O=(parseInt(v.substr(2,1),16)+48).toString(16),x=(parseInt(v.substr(3,1),16)+48).toString(16),j=(parseInt(v.substr(4,1),16)+48).toString(16),k=(parseInt(v.substr(5,1),16)+48).toString(16),C=(251^parseInt(t,16)^parseInt(y,16)^parseInt(m,16)^parseInt(O,16)^parseInt(x,16)^parseInt(j,16)^parseInt(k,16)).toString(16),w=(0-(171+parseInt(t,16)+80+parseInt(y,16)+parseInt(m,16)+parseInt(O,16)+parseInt(x,16)+parseInt(j,16)+parseInt(k,16)+parseInt(C,16))+1e15).toString(16),_=w.substr(w.length-2,2);o="A10A"+t+"50"+y+m+O+x+j+k+C+_}return{cmd:o,resolve:function(r,s,o){var a=(r=n(r)).substr(0,4);if("a8a8"===a&&(a=(r=r.substr(2,r.length-2)).substr(0,4)),"a804"!==a&&"a80e"!==a)return o(401);if(r.substr(4,2).toLowerCase()!==t.toLowerCase())return o(402);if(4===e){if("74"!==r.substr(6,2))return o(402)}else if(5===e){if("5a"!==r.substr(6,2))return o(402)}else{if(6!==e)return o(404);if("50"!==r.substr(6,2))return o(402)}s(e)}}},e.prototype.navi=function(t){return t?t.substr(4,2):null},t.exports=e}]);