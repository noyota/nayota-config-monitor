module.exports=function(t){var r={};function s(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}return s.m=t,s.c=r,s.d=function(t,r,e){s.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:e})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,r){if(1&r&&(t=s(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(s.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var n in t)s.d(e,n,function(r){return t[r]}.bind(null,n));return e},s.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(r,"a",r),r},s.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},s.p="",s(s.s=0)}([function(t,r){function s(t,r){this.addrmin=1,this.addrmax=20,this.validate=r,this.button=[0,1,2,3],this.options=t;var s=this;s.checksAddress=[],t.defaultCheck.forEach(function(t){s["analysis"+t.address]=t.analysis,s.checksAddress.push(t.address)})}function e(t){return t}s.prototype.find=function(t,r){t&&"string"==typeof t&&(t=parseInt(t)),r&&"string"==typeof r&&(r=parseInt(r));for(var s=t||this.addrmin,n=r||this.addrmax,o="";s<=n;){for(var a=s.toString(16);a.length<2;)a="0"+a;var i=(210^parseInt(a,16)).toString(16),p=(0-(166+parseInt(a,16)+118+parseInt(i,16))+1e15).toString(16);o+="A105"+a+"7600"+i+p.substr(p.length-2,2)+",",s++}var u=this.options.name,d=this.options.defaultCheck,l=this.options.defaultOperate,I=[];return void 0!==this.options.attribute&&(I=this.options.attribute),{cmd:o.substr(0,o.length-1),resolve:function(t,r,s){if((t=e(t)).length<44)return s(400);if("a814"!==t.substr(0,4))return s(402);var n=t.substr(8,16),o=t.substr(4,2);return r({shortAddress:n,name:u+o,checks:d,operates:l,attribute:I})},changeAddr:!0}},s.prototype.changeAddr=function(t){for("number"==typeof t.shortAddress&&(t.shortAddress=t.shortAddress.toString(16));t.shortAddress.length<2;)t.shortAddress="0"+t.shortAddress;var r=t.oldAddr.substr(0,2),s=t.oldAddr.substr(2,2),n=t.oldAddr.substr(4,2),o=t.oldAddr.substr(6,2),a=t.oldAddr.substr(8,2),i=t.oldAddr.substr(10,2),p=t.oldAddr.substr(12,2),u=t.oldAddr.substr(14,2),d=(170^parseInt(r,16)^parseInt(s,16)^parseInt(n,16)^parseInt(o,16)^parseInt(a,16)^parseInt(i,16)^parseInt(p,16)^parseInt(u,16)^parseInt(t.shortAddress,16)).toString(16),l=(0-(180+parseInt(r,16)+parseInt(s,16)+parseInt(n,16)+parseInt(o,16)+parseInt(a,16)+parseInt(i,16)+parseInt(p,16)+parseInt(u,16)+parseInt(t.shortAddress,16)+parseInt(d,16))+1e15).toString(16),I=l.substr(l.length-2,2),f="A10D0006"+t.oldAddr+t.shortAddress+d+I,b=(175^parseInt(t.shortAddress,16)).toString(16),h=(0-(165+parseInt(t.shortAddress,16)+10+parseInt(b,16))+1e15).toString(16),g=h.substr(h.length-2,2),c="A104"+t.shortAddress+"0A"+b+g,A=this.options.name,S=this.options.defaultCheck,v=this.options.defaultOperate,y=[];return void 0!==this.options.attribute&&(y=this.options.attribute),{cmd:f+","+c,resolve:function(r,s,n){return(r=e(r.split(",")[1])).length<12?n(400):"a804"!==r.substr(0,4)?n(402):r.substr(4,2).toLowerCase()!==t.shortAddress.toLowerCase()?n(403):s({shortAddress:t.shortAddress,name:A+t.shortAddress,checks:S,operates:v,attribute:y})}}},s.prototype.read=function(t,r){},s.prototype.write=function(t,r,s){for(t=t.toString(16);t.length<2;)t="0"+t;let n;0===s&&(s="4,null");let o,a=null;if(s.toString().indexOf(",")>-1?(n=parseInt(s.split(",")[0]),a=s.split(",")[1]):n=s,4===n){const r=(209^parseInt(t,16)).toString(16),s=(0-(165+parseInt(t,16)+116+parseInt(r,16))+1e15).toString(16),e=s.substr(s.length-2,2);o="A104"+t+"74"+r+e}else if(5===n&&null!==a){let r=a;for("number"==typeof r&&(r=r.toString(16));r.length<6;)r="0"+r;var i=(parseInt(r.substr(0,1),16)+48).toString(16),p=(parseInt(r.substr(1,1),16)+48).toString(16),u=(parseInt(r.substr(2,1),16)+48).toString(16),d=(parseInt(r.substr(3,1),16)+48).toString(16),l=(parseInt(r.substr(4,1),16)+48).toString(16),I=(parseInt(r.substr(5,1),16)+48).toString(16);const s=(241^parseInt(t,16)^parseInt(i,16)^parseInt(p,16)^parseInt(u,16)^parseInt(d,16)^parseInt(l,16)^parseInt(I,16)).toString(16),e=(0-(171+parseInt(t,16)+90+parseInt(i,16)+parseInt(p,16)+parseInt(u,16)+parseInt(d,16)+parseInt(l,16)+parseInt(I,16)+parseInt(s,16))+1e15).toString(16),n=e.substr(e.length-2,2);o="A10A"+t+"5A"+i+p+u+d+l+I+s+n}else if(6===n&&null!==a){let r=a;for("number"==typeof r&&(r=r.toString());r.length<6;)r="0"+r;const s=(parseInt(r.substr(0,1),16)+48).toString(16),e=(parseInt(r.substr(1,1),16)+48).toString(16),n=(parseInt(r.substr(2,1),16)+48).toString(16),i=(parseInt(r.substr(3,1),16)+48).toString(16),p=(parseInt(r.substr(4,1),16)+48).toString(16),u=(parseInt(r.substr(5,1),16)+48).toString(16),d=(251^parseInt(t,16)^parseInt(s,16)^parseInt(e,16)^parseInt(n,16)^parseInt(i,16)^parseInt(p,16)^parseInt(u,16)).toString(16),l=(0-(171+parseInt(t,16)+80+parseInt(s,16)+parseInt(e,16)+parseInt(n,16)+parseInt(i,16)+parseInt(p,16)+parseInt(u,16)+parseInt(d,16))+1e15).toString(16),I=l.substr(l.length-2,2);o="A10A"+t+"50"+s+e+n+i+p+u+d+I}return{cmd:o,resolve:function(r,s,o){var a=(r=e(r)).substr(0,4);if("a8a8"===a&&(a=(r=r.substr(2,r.length-2)).substr(0,4)),"a804"!==a&&"a80e"!==a)return o(401);if(r.substr(4,2).toLowerCase()!==t.toLowerCase())return o(402);if(4===n){if("74"!==r.substr(6,2))return o(402)}else if(5===n){if("5a"!==r.substr(6,2))return o(402)}else{if(6!==n)return o(404);if("50"!==r.substr(6,2))return o(402)}s(n)}}},s.prototype.navi=function(t){if(t){return t.substr(4,2)}return null},t.exports=s}]);