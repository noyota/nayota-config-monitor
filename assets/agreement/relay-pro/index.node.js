module.exports=function(r){var t={};function e(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return r[n].call(s.exports,s,s.exports,e),s.l=!0,s.exports}return e.m=r,e.c=t,e.d=function(r,t,n){e.o(r,t)||Object.defineProperty(r,t,{enumerable:!0,get:n})},e.r=function(r){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},e.t=function(r,t){if(1&t&&(r=e(r)),8&t)return r;if(4&t&&"object"==typeof r&&r&&r.__esModule)return r;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:r}),2&t&&"string"!=typeof r)for(var s in r)e.d(n,s,function(t){return r[t]}.bind(null,s));return n},e.n=function(r){var t=r&&r.__esModule?function(){return r.default}:function(){return r};return e.d(t,"a",t),t},e.o=function(r,t){return Object.prototype.hasOwnProperty.call(r,t)},e.p="",e(e.s=0)}([function(r,t){function e(r,t){this.addrmin=20,this.addrmax=40,this.validate=t,this.button=[0,1,2,3],this.options=r}e.prototype.find=function(){var r=this.validate,t=this.options.name,e=this.options.defaultOperate;return{cmd:"000300640001c404",resolve:function(n,s,o){if(n.length<14)return o(400);var u=n.substr(0,n.length-4);if(r.crc16(u)!==n)return o(401);if("00"!==n.substr(0,2))return o(403);if("03"!==n.substr(2,2))return o(402);var i=n.substr(8,2);return s({shortAddress:i,name:t+i,operates:e})},changeAddr:!0}},e.prototype.changeAddr=function(r){for("number"==typeof r.shortAddress&&(r.shortAddress=r.shortAddress.toString(16));r.shortAddress.length<2;)r.shortAddress="0"+r.shortAddress;var t="0006006400"+r.shortAddress;t=this.validate.crc16(t);var e=this.validate,n=this.options.name,s=this.options.defaultOperate;return{cmd:t,resolve:function(t,o,u){if(t.length<14)return u(400);var i=t.substr(0,t.length-4);return e.crc16(i)!==t?u(401):"00"!==t.substr(0,2)?u(403):"06"!==t.substr(2,2)?u(402):o({shortAddress:r.shortAddress,name:n+r.shortAddress,operates:s})}}},e.prototype.read=function(r,t){for("number"==typeof r&&(r=r.toString(16));r.length<2;)r="0"+r;var e=this.validate,n=r+"01 00 00 00 04";return{cmd:n=e.crc16(n),resolve:function(t,n,s){if(t.length<12)return s(400);var o=t.substr(0,t.length-4);if(e.crc16(o)!==t)return s(401);if(t.substr(0,2)!==r.toLowerCase())return s(403);if("01"!==t.substr(2,2))return s(402);for(o=t.substr(6,2),o=parseInt(o,16).toString(2);o.length<4;)o="0"+o;const u={};for(var i=0;i<o.length;i++)u[3-i]=parseInt(o.charAt(i));return n(u)}}},e.prototype.write=function(r,t,e){for(;r.length<2;)r="0"+r;for(var n=this.validate;t.length<2;)t="0"+t;return e=1===e?"ff":"00",{cmd:n.crc16(r+"05 00 "+t+e+" 00 "),resolve:function(t,e,s){if(t.length<16)return s(400);var o=t.substr(0,t.length-4);return n.crc16(o)!==t?s(401):t.substr(0,2)!==r.toLowerCase()?s(403):"05"!==t.substr(2,2)?s(402):("ff"===(o=t.substr(8,2))?o=1:"00"===o&&(o=0),e(o))}}},r.exports=e}]);